# StudyHub .htaccess for InfinityFree/Apache hosting

# Enable URL rewriting
RewriteEngine On

# Force HTTPS (optional - uncomment when SSL is active)
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect to public folder if accessing root
RewriteCond %{REQUEST_URI} !^/public/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /public/$1 [L]

# Prevent directory listing
Options -Indexes

# Protect sensitive files
<FilesMatch "^(config\.php|config\.production\.php|db\.php)">
    Order allow,deny
    Deny from all
</FilesMatch>

# PHP settings
php_value upload_max_filesize 10M
php_value post_max_size 10M
php_value max_execution_time 300
php_value max_input_time 300
